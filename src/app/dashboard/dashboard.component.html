<header class="app-header navbar">
    <button class="navbar-toggler mobile-sidebar-toggler hidden-lg-up" type="button">&#9776;</button>
    <a class="navbar-brand" href="#"></a>
    <ul class="nav navbar-nav hidden-md-down hidden-sm-up">
        <li class="nav-item">
            <a class="nav-link navbar-toggler sidebar-toggler" href="#">&#9776;</a>
        </li>
    </ul>

    <ul *ngIf="needsLayout('fluid')" class="nav navbar-links hidden-md-down">
        <li class="nav-item" *ngFor="let item of navigation">
            <span class *ngIf="item.href && !item.routerLink">
                <a *ngIf="show(item)"
                   [href]="item.href"
                   class="nav-link {{ item.classes }}">
                    {{ item.label }}
                </a>
            </span>
            <span class *ngIf="item.routerLink && !item.click">
                <a *ngIf="show(item)"
                   [routerLink]="item.routerLink"
                   routerLinkActive="active"
                   [routerLinkActiveOptions]="{ exact: item.exactActive || false }"
                   class="nav-link {{ item.classes }}">
                    {{ item.label }}
                </a>
            </span>
            <span class *ngIf="item.click && !item.routerLink">
                <a *ngIf="show(item)"
                   (click)="item.click()" href="#"
                   class="nav-link {{ item.classes }}">
                    {{ item.label }}
                </a>
            </span>
        </li>
    </ul>

    <ul class="nav navbar-nav ml-auto mr-1">
        <li class="nav-item dropdown" dropdown *ngIf="authenticated()">
            <a class="nav-link nav-pill avatar" data-toggle="dropdown" role="button" aria-haspopup="true"
               aria-expanded="false" dropdownToggle>
                <span class="icon-user"></span>
            </a>

            <div class="dropdown-menu dropdown-menu-right animated quick fadeIn" *dropdownMenu aria-labelledby="simple-dropdown">
                <div class="dropdown-header text-center">
                    <strong>Account</strong>
                </div>

                <a class="dropdown-item" *ngIf="roles.has('dashboard')" [href]="studioUrl">
                    <i class="fa fa-book"></i> Publication Studio
                </a>

                <a class="dropdown-item" routerLink="/settings">
                    <i class="fa fa-wrench"></i> Settings
                </a>

                <a class="dropdown-item" (click)="logout()" href="#">
                    <i class="fa fa-lock"></i> Logout
                </a>
            </div>
        </li>

        <li class="nav-item hidden-md-down" *ngIf="!authenticated()">
            <a class="nav-link" href="#" (click)="login()">
                <i class="icon-user"></i> Login
            </a>
        </li>
    </ul>
</header>

<div class="app-body">
    <div class="sidebar" [class.hidden-lg-up]="needsLayout('fluid')">
        <nav class="sidebar-nav">
            <ul class="nav">
                <li class="nav-item" *ngFor="let item of navigation">
                    <span class *ngIf="item.href && !item.routerLink">
                        <a *ngIf="show(item)"
                           [href]="item.href"
                           class="nav-link {{ item.classes }}">
                            <i class="{{ item.icon }}"></i> {{ item.label }}
                        </a>
                    </span>
                    <span class *ngIf="item.routerLink && !item.click">
                        <a *ngIf="show(item)"
                           [routerLink]="item.routerLink"
                           routerLinkActive="active"
                           [routerLinkActiveOptions]="{ exact: item.exactActive || false }"
                           class="nav-link {{ item.classes }}">
                            <i class="{{ item.icon }}"></i> {{ item.label }}
                        </a>
                    </span>
                    <span class *ngIf="item.click && !item.routerLink">
                        <a *ngIf="show(item)"
                           (click)="item.click()" href="#"
                           class="nav-link {{ item.classes }}">
                            <i class="{{ item.icon }}"></i> {{ item.label }}
                        </a>
                    </span>
                </li>
            </ul>
        </nav>
    </div>

    <!-- Main content -->
    <main class="main" [class.fluid]="needsLayout('fluid')">
        <div class="container-fluid">
            <router-outlet></router-outlet>
        </div>
    </main>
</div>
